# 为何使用虚拟服务器？
虚拟服务器是自奶粉以来最好的东西！ 你可能会问我们为什么要发表这样的声明。 原因是它们引入了灵活性。 使用虚拟服务器，您可以创建一个定制的策略并将其包装在一个功能单元中。
虚拟RADIUS服务器在概念和功能上与真实虚拟服务器（如使用VMware或VirtualBox进行虚拟化的服务器）非常不同。 RADIUS中的虚拟服务器可以实现简单而强大的配置，因为它们可以实现策略的清晰分离。 这在早期版本的FreeRADIUS中是不可能的。

例如，虚拟服务器的一个策略将指定使用LDAP目录用户存储，而另一个虚拟服务器将指定SQL数据库。然后可以彼此独立地使用这两个服务器。可以在FreeRADIUS配置的以下部分之一中指定要使用的虚拟服务器：
+ listen：根据指定的IP地址，端口和数据包类型组合，将选择虚拟服务器。监听部分通常位于radius.conf文件中。 listen部分是指定虚拟服务器的常用位置。 FreeRADIUS允许多个侦听部分，这些部分中的每一部分都可用于将某个IP地址和UDP端口组合与虚拟服务器组合在一起。以这种方式使用时，运行FreeRADIUS的服务器通常具有多个IP地址。
+ 客户端：根据客户端的IP地址，将选择虚拟服务器。客户端在clients.conf文件中定义。
+ home_server_pool，home_server或realm：指定将用于发送代理请求的虚拟服务器。代理是通过proxy.conf文件配置的，本书稍后将对此进行介绍。
+ EAP隧道：指定EAP的PEAP或TTLS内部隧道方法使用的虚拟服务器。 EAP是通过eap.conf文件配置的，本书后面将对此进行介绍。
通过这些部分中的virtual_server = <virtual server>指令指定虚拟服务器。是时候弄清楚了。

> 不应将虚拟服务器策略与policy.conf文件中的策略混淆。虚拟服务器的策略是指虚拟服务器的特征，而policy.conf文件中的策略只是一段unlang代码包装和命名，以便于参考和使用。